var app = angular.module('ionicApp', ['ionic'])
.config(function($stateProvider, $urlRouterProvider) {
  $stateProvider
  .state('nav', {
    url: '/nav',
    abstract: true,
    templateUrl: 'nav.html',
    controller: 'NavCtrl'
  })
  .state('nav.home', {
    url: '',
    templateUrl: 'nav-home.html'
  })
  .state('nav.level-2', {
    url: '/level2',
    templateUrl: 'nav-level-2.html'
  })

  $urlRouterProvider.otherwise('/nav')

})

app.controller('MainCtrl', function($scope, $state) {
})

app.controller('HeaderCtrl', function($scope, $ionicModal, $templateCache) {
  $scope.description = "Headers are useful for views that don't require routing or more complicated heirarchies. They are best for views like this that contain content and a single level of state but lack nested navigation stacks. This tab sits outside of the ion-nav-view routing stack."
  $scope.user = {
    firstName: "Mittens",
    lastName: "Cat",
    email: "mittens@cat.com"
  }

  $ionicModal.fromTemplateUrl('modal.html', {
    scope: $scope
  }).then(function(modal) {
    $scope.modal = modal
  })

  $scope.openModal = function() {
    console.log('hello')

   $scope.modal.show()
  }

  $scope.closeModal = function() {
    $scope.modal.hide()
  }

  $scope.$on('$destroy', function() {
    $scope.modal.remove()
  });
})

app.controller('NavCtrl', function() {

})
